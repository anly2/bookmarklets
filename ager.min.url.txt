javascript:(function()%20%7B%20/*%20Configurable%20*/%20const%20keepN%20=%20200;%20const%20fadeFromColor%20=%20%22black%22;%20const%20fadeToColor%20=%20%22darkgray%22;%20const%20fadeDuration%20=%20%221800s%22;%20/*%20Helper%20functions%20*/%20function%20addStylesheet(css)%20%7B%20var%20e%20=%20document.createElement('div');%20e.innerHTML%20=%20%22%3Cstyle%3E%22%20+%20css%20+%20%22%3C/style%3E%22;%20document.body.appendChild(e);%20%7D%20function%20getSelectionElements()%20%7B%20if%20(!!window.getSelection)%20%7B%20var%20sel%20=%20window.getSelection();%20var%20elements%20=%20%5B%5D;%20for%20(var%20i%20=%200;%20i%20%3C%20sel.rangeCount;%20i++)%20%7B%20var%20node%20=%20sel.getRangeAt(i).commonAncestorContainer;%20elements.push(node.nodeType%20===%201%20?%20node%20:%20node.parentNode);%20%7D%20return%20elements;%20%7D%20else%20if%20(!!document.selection%20&&%20document.selection.type%20!==%20%22Control%22)%20%7B%20var%20textRange%20=%20document.selection.createRange();%20return%20%5BtextRange.parentElement()%5D;%20%7D%20%7D%20var%20defer%20=%20(function()%20%7B%20var%20bulk%20=%20%5B%5D;%20var%20timeout;%20return%20function(action)%20%7B%20bulk.push(action);%20if%20(!timeout)%20%7B%20timeout%20=%20setTimeout(function()%20%7B%20var%20actions%20=%20bulk;%20bulk%20=%20%5B%5D;%20actions.forEach(function(a)%20%7B%20a();%20%7D);%20timeout%20=%20undefined;%20%7D,%20100)%20%7D%20return%20timeout;%20%7D;%20%7D());%20/*%20Functionality%20*/%20const%20shortest_unit%20=%20(function()%20%7B%20const%20units%20=%20%5B%20%7B%22name%22:%20%22second%22,%20%22value%22:%201000%7D,%20%7B%22name%22:%20%22minute%22,%20%22value%22:%2060%20*%201000%7D,%20%7B%22name%22:%20%22hour%22,%20%22value%22:%2060%20*%2060%20*%201000%7D,%20%7B%22name%22:%20%22day%22,%20%22value%22:%2024%20*%2060%20*%2060%20*%201000%7D%20%5D;%20return%20function(timediff)%20%7B%20for%20(let%20i%20=%201;%20i%20%3C%20units.length;%20i++)%20%7B%20if%20(timediff%20%3C%20units%5Bi%5D.value)%20%7B%20return%20units%5Bi%20-%201%5D;%20%7D%20%7D%20return%20units%5Bunits.length%20-%201%5D;%20%7D;%20%7D());%20function%20timediff_inWords(d,%20u)%20%7B%20var%20n%20=%20Math.floor(d%20/%20u.value);%20return%20((0%20%3C=%20n%20&&%20n%20%3C%2010)%20?%20%22%20%22%20:%20%22%22)%20+%20n%20+%20u.name.charAt(0)%20+%20%22%20ago%20%22;%20%7D%20addStylesheet(%5B%20%22.ager%20%7B%22,%20%22%20color:%20%22+fadeFromColor+%22;%22,%20%22%20transition:%20color%20%22+fadeDuration+%22;%22,%20%22%7D%22%20%5D.join(%22%5Cn%22));%20var%20agers%20=%20window.agers%20%7C%7C%20((keepN%20%3E%200)%20&&%20%5B%5D);%20if%20(agers%20&&%20!window.agerTickInterval)%20%7B%20window.agerTickInterval%20=%20setInterval(function()%20%7B%20for%20(var%20a%20of%20agers)%20a.tick();%20%7D,%201000);%20%7D%20function%20prepareAger(element)%20%7B%20const%20t%20=%20element.getAttribute('data-instant');%20let%20diff%20=%20new%20Date()%20-%20new%20Date(t);%20const%20update%20=%20function()%20%7B%20element.innerHTML%20=%20timediff_inWords(diff,%20shortest_unit(diff));%20%7D;%20update(diff);%20defer(function()%20%7B%20element.style.transitionDelay%20=%20%22-%22%20+%20Math.floor(diff%20/%201000)%20+%20%22s%22;%20element.style.color%20=%20fadeToColor;%20%7D);%20const%20ager%20=%20%7B%20tick:%20function()%20%7B%20diff%20+=%201000;%20update();%20%7D,%20clear:%20function()%20%7B%20element.remove();%20%7D%20%7D;%20if%20(agers)%20%7B%20agers.push(ager);%20if%20(agers.length%20%3E%20keepN)%20%7B%20agers.shift().clear();%20%7D%20%7D%20return%20ager;%20%7D%20const%20regexMoment%20=%20/(?:(%5Cd%7B4%7D%7C%5Cd%7B2%7D)-(%5Cd%7B1,2%7D)-(%5Cd%7B1,2%7D))?%5Cs*T?%5Cs*(%5Cd%7B1,2%7D):(%5Cd%7B2%7D)(?::(%5Cd%7B2%7D)(?:%5C.(%5Cd%7B1,3%7D))?)?(?:%5Cs*(Z%7C%5BA-Z%5D%7B2,3%7D))?(?:%5Cs*(%5B+-%5D%5Cd%7B2%7D))?/g;%20function%20normalizeDateString(matchGroups)%20%7B%20const%20%5Bwhole,%20year,%20month,%20day,%20hours,%20minutes,%20seconds,%20millis,%20zone,%20offset%5D%20=%20matchGroups;%20const%20instant%20=%20Date.parse(whole);%20if%20(!isNaN(instant))%20%7B%20return%20new%20Date(instant).toISOString();%20%7D%20const%20now%20=%20new%20Date();%20const%20y%20=%20(year%20&&%20year.length%20%3E%202%20?%20year%20:%20%2220%22%20+%20year)%20%7C%7C%20now.getFullYear();%20const%20m%20=%20month%20%7C%7C%20(now.getMonth()%20+%201);%20const%20d%20=%20day%20%7C%7C%20now.getDate();%20const%20s%20=%20seconds%20%7C%7C%20now.getSeconds();%20const%20ms%20=%20millis%20%7C%7C%20now.getMilliseconds();%20const%20z%20=%20((zone%20%7C%7C%20%22%22)%20+%20(offset%20%7C%7C%20%22%22))%20%7C%7C%20%22Z%22;%20const%20datetime%20=%20y+%22-%22+m+%22-%22+d+%22%20%22+hours+%22:%22+minutes+%22:%22+s+%22.%22+ms;%20if%20(!isNaN(Date.parse(datetime+%22%20%22+z)))%20%7B%20return%20datetime+%22%20%22+z;%20%7D%20return%20datetime;%20%7D%20/*%20Action%20*/%20const%20sel%20=%20getSelectionElements();%20console.log(%22Selected%20elements:%22,%20sel);%20(sel%20%7C%7C%20%5Bdocument.body%5D).forEach(element%20=%3E%20%7B%20let%20foundSome%20=%20false;%20element.innerHTML%20=%20element.innerHTML.replace(regexMoment,%20function(w)%20%7B%20const%20t%20=%20normalizeDateString(Array.from(arguments));%20console.log(%22Found%20a%20datetime%20string:%22,%20w,%20%22normalized%20to:%22,%20t);%20foundSome%20=%20true;%20return%20%22%20%3Cspan%20class='ager'%20data-instant='%22+t+%22'%3E%3C/span%3E%20%22%20+%20w;%20%7D);%20if%20(foundSome)%20%7B%20Array.from(element.querySelectorAll('.ager')).forEach(elem%20=%3E%20prepareAger(elem));%20%7D%20%7D);%20%7D());%20void%200;